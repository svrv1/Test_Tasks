ВЫБРАТЬ
	ПродажиОбороты.Номенклатура КАК Номенклатура,
	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ ПродажиОбороты.Регистратор) КАК КоличествоПродаж
ИЗ
	РегистрНакопления.Продажи.Обороты(НАЧАЛОПЕРИОДА(ДОБАВИТЬКДАТЕ(&Дата, МЕСЯЦ, -1), МЕСЯЦ), КОНЕЦПЕРИОДА(ДОБАВИТЬКДАТЕ(&Дата, ДЕНЬ, -1), МЕСЯЦ), Регистратор, ) КАК ПродажиОбороты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ОстаткиТоваров.Остатки(&Дата, ) КАК ОстаткиТоваровОстатки
		ПО (ОстаткиТоваровОстатки.Номенклатура = ПродажиОбороты.Номенклатура)
ГДЕ
	ЕСТЬNULL(ОстаткиТоваровОстатки.КоличествоОстаток, 0) = 0

СГРУППИРОВАТЬ ПО
    ПродажиОбороты.Номенклатура
ИМЕЮЩИЕ
    КОЛИЧЕСТВО(Продажи.Регистратор) >= &КоличествоПродаж

УПОРЯДОЧИТЬ ПО
	КоличествоПродаж УБЫВ
